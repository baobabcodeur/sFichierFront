{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\FCS\\\\Desktop\\\\mes projets\\\\S-fichierFront\\\\src\\\\pages\\\\authentication\\\\Registration\\\\Registration.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Input from \"../../../components/Input/Input\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Registration.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Registration() {\n  _s();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const navigate = useNavigate();\n  const handleRegistration = async e => {\n    e.preventDefault();\n    setIsLoading(true);\n    setErrorMessage('');\n\n    // Extraire le token de l'URL\n    const urlParams = new URLSearchParams(window.location.search);\n    const token = urlParams.get('token'); // Récupérer le token depuis l'URL\n\n    try {\n      const response = await axios.post('http://192.168.1.160:8000/api/register', {\n        name,\n        email,\n        password,\n        password_confirmation: confirmPassword,\n        ...(token && {\n          token\n        }) // N'inclure le token que s'il existe\n      });\n      if (response.status === 200) {\n        // On suppose que l'inscription est réussie, redirigez vers la page de confirmation\n        navigate('/otp', {\n          state: {\n            email\n          }\n        }); // Passer l'email à la page de confirmation\n      }\n    } catch (error) {\n      console.error('Erreur lors de l\\'inscription:', error);\n      setErrorMessage('Une erreur est survenue lors de l\\'inscription.'); // Gérer les erreurs ici\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Appbar\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"AMEK INFORMATIQUE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"S\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), \"-fichier\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        placeholder: \"nom\",\n        value: name,\n        onChange: e => setName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"email\",\n        placeholder: \"e-mail\",\n        value: email,\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"password\",\n        placeholder: \"mot de passe\",\n        value: password,\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"password\",\n        placeholder: \"confirmer mot de passe\",\n        value: confirmPassword,\n        onChange: e => setConfirmPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleRegistration,\n        disabled: isLoading,\n        children: isLoading ? \"Chargement ...\" : \"Créer le compte\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/\",\n        children: \"Se connecter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Copyright 2024 - Tous droits r\\xE9serv\\xE9s.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Powered and designed by jeanamekpod@gmail.com\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n_s(Registration, \"wW/yP19XJipvFPh0BDJMM6Qqv5Y=\", false, function () {\n  return [useNavigate];\n});\n_c = Registration;\nvar _c;\n$RefreshReg$(_c, \"Registration\");","map":{"version":3,"names":["React","useState","Input","axios","useNavigate","jsxDEV","_jsxDEV","Registration","_s","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","isLoading","setIsLoading","errorMessage","setErrorMessage","navigate","handleRegistration","e","preventDefault","urlParams","URLSearchParams","window","location","search","token","get","response","post","password_confirmation","status","state","error","console","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","target","onClick","disabled","href","_c","$RefreshReg$"],"sources":["C:/Users/FCS/Desktop/mes projets/S-fichierFront/src/pages/authentication/Registration/Registration.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Input from \"../../../components/Input/Input\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./Registration.css\";\r\n\r\nexport default function Registration() {\r\n    const [name, setName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const navigate = useNavigate();\r\n\r\n    const handleRegistration = async (e) => {\r\n        e.preventDefault();\r\n        setIsLoading(true);\r\n        setErrorMessage('');\r\n\r\n        // Extraire le token de l'URL\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        const token = urlParams.get('token'); // Récupérer le token depuis l'URL\r\n\r\n        try {\r\n            const response = await axios.post('http://192.168.1.160:8000/api/register', {\r\n                name,\r\n                email,\r\n                password,\r\n                password_confirmation: confirmPassword,\r\n                ...(token && { token }) // N'inclure le token que s'il existe\r\n            });\r\n\r\n            if (response.status === 200) {\r\n                // On suppose que l'inscription est réussie, redirigez vers la page de confirmation\r\n                navigate('/otp', { state: { email } }); // Passer l'email à la page de confirmation\r\n            }\r\n        } catch (error) {\r\n            console.error('Erreur lors de l\\'inscription:', error);\r\n            setErrorMessage('Une erreur est survenue lors de l\\'inscription.'); // Gérer les erreurs ici\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className='Appbar'>\r\n                <h2>AMEK INFORMATIQUE</h2>\r\n            </div>\r\n            <div className='container'>\r\n                <h3><span>S</span>-fichier</h3>\r\n                <Input type=\"text\" placeholder=\"nom\" value={name} onChange={(e) => setName(e.target.value)} />\r\n                <Input type=\"email\" placeholder=\"e-mail\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n                <Input type=\"password\" placeholder=\"mot de passe\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n                <Input type=\"password\" placeholder=\"confirmer mot de passe\" value={confirmPassword} onChange={(e) => setConfirmPassword(e.target.value)} />\r\n                {errorMessage && <p className=\"error\">{errorMessage}</p>}\r\n                <button onClick={handleRegistration} disabled={isLoading}>{isLoading ? \"Chargement ...\" : \"Créer le compte\"}</button>\r\n                <a href=\"/\">Se connecter</a>\r\n            </div>\r\n            <footer>\r\n                <p>Copyright 2024 - Tous droits réservés.</p>\r\n                <p>Powered and designed by jeanamekpod@gmail.com</p>\r\n            </footer>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}